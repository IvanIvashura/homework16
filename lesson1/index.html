<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Задача 1</title>
</head>

<body>
    <script>
        //    Задача 1. Створити клас TDate для роботи із датами у форматі “день.місяць.рік”.
        //    Дата представляється структурою із трьома полями.
        //    Реалізувати методи збільшення /
        //    зменшення дати на певну кількість днів, місяців чи років.
        //    Введення та виведення дати реалізувати за допомогою методу  toString.


        class TDate {
            #day;
            #month;
            #year;

            constructor(initDay, initMonth, initYear) {
                this.day = initDay;
                this.month = initMonth;
                this.year = initYear;
            }

            get day() {
                return this.#day;
            }
            set day(newDay) {
                if (newDay < 0) throw new Error('Невідомий день місяця');
                this.#day = newDay;
            }


            get month() {
                return this.#month;
            }
            set month(newMonth) {
                if (newMonth < 0) throw new Error('Невідомий день місяця');
                this.#month = newMonth;
            }

            get year() {
                return this.#year;
            }
            set year(newYear) {
                if (newYear < 1) throw new Error('Невідомий рік');
                this.#year = newYear;
            }

            toString() {
                return `День ${this.day} місяць ${this.month} рік ${this.year}`;
            }

            // Методи збільшення
            getAddday(userAddDay) {
                this.day += userAddDay;
                if (this.day > 30) {
                    this.month += Math.floor(this.day / 30);
                    this.day %= 30;
                }
                return this.day;
            }

            getAddMonth(userAddMonth) {
                this.month += userAddMonth;
                if (this.month > 12) {
                    this.year += Math.floor(this.month / 12);
                    this.month %= 12;
                }
                return this.month;
            }

            getAddYear(userAddYear) {
                this.year += userAddYear;
                return this.year;
            }


            // Методи зменшення
            getSubtractDay(userSubtractDay) {
                for (let i = 0; i < userSubtractDay; i++) {
                    this.day--
                    while (this.day <= 1) {
                        this.month--;
                        if (this.month < 1) {
                            this.year--;
                            this.month = 12;
                        }
                        this.day += 30;
                    }
                }
                return this.day;

            }

            getSubtractMonth(userSubtractMonth) {
                for (let i = 0; i < userSubtractMonth; i++) {
                    this.month--
                    while (this.month < 1) {
                        this.year--;
                        this.month += 12;
                    }
                }
                return this.month;
            }

            getSubtractYear(userSubtractYear) {
                this.year -= userSubtractYear;
                return this.year;
            }

        }

        /////////////////////////////////////////////// /////////////////////////////////////////////// /////////////////////////////////////////////// 



        let userDay = parseInt(prompt('Введіть день'));
        let userMonth = parseInt(prompt('Введіть місяць'));
        let userYear = parseInt(prompt('Введіть рік'));

        let date1 = new TDate(userDay, userMonth, userYear);
        document.write(date1);

        // додавання 
        let userAddDay = parseInt(prompt('Введіть кількість днів для додавання'));
        let userAddMonth = parseInt(prompt('Введіть кількість місяців для додавання'));
        let userAddYear = parseInt(prompt('Введіть кількість років для додавання'));

        date1.getAddday(userAddDay);
        date1.getAddMonth(userAddMonth);
        date1.getAddYear(userAddYear);

        document.write(`<br>${date1}`);

        // віднімання 
        setTimeout(() => {
            let userSubtractDay = parseInt(prompt('Введіть кількість днів для віднімання'));
            let userSubtractMonth = parseInt(prompt('Введіть кількість місяців для віднімання'));
            let userSubtractYear = parseInt(prompt('Введіть кількість років для віднімання'));

            date1.getSubtractDay(userSubtractDay)
            date1.getSubtractMonth(userSubtractMonth)
            date1.getSubtractYear(userSubtractYear)

            document.write(`<br>${date1}`);
        }, 5000);




    </script>
</body>

</html>