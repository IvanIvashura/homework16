<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Задача 2</title>
</head>
<script>
    // Задача 2. Створити клас TMoney для роботи з грошовими сумами.
    // Сума повинна зберігатися у вигляді доларового еквіваленту.
    // Реалізувати методи додавання / вилучення грошової маси,
    // вказуючи необхідну суму у гривнях, та визначення курсу долара,
    // при якому сума у гривнях збільшиться на 100.
    // Курс долара зберігати в окремому полі.


    class TMoney {
        #courseOfDollar
        constructor(initDollorsSum, initCourseOfDollar) {
            this.dollorsSum = initDollorsSum
            this.courseOfDollar = initCourseOfDollar
        }
        get courseOfDollar() {
            return this.#courseOfDollar
        }
        set courseOfDollar(course) {
            if (course < 36 || course > 42) {
                throw new Error('')
            }
            this.#courseOfDollar = course
        }
        toString() {
            return `Сума у $ ${this.dollorsSum.toFixed(2)}  Сума у гривнях ${(this.dollorsSum * this.courseOfDollar).toFixed(2)} необхідно збільшити курс до ${this.findRequiredCourse()}`
        }
        // методи

        getAdd(userAddUah) {
            this.dollorsSum += userAddUah / this.courseOfDollar
        }
        getSub(userSubUah) {
            this.dollorsSum -= userSubUah / this.courseOfDollar
        }
        findRequiredCourse() {
            let sumInUah = this.dollorsSum * this.courseOfDollar;
            let targetSumInUAH = sumInUah + 100;
            let newCourse = this.courseOfDollar;
            let newSumInUAH = sumInUah

            while (newSumInUAH < targetSumInUAH) {
                newCourse += 0.01;
                newSumInUAH = this.dollorsSum * newCourse;
            }
            return newCourse
        }
    }

    let getSum = new TMoney(3500, 38)
    document.write(getSum)

    let userAddUah = parseInt(prompt('Введіть кількість гривень для додавання'))
    getSum.getAdd(userAddUah)
    document.write(`<br>${getSum}`)

    let userSubUah = parseInt(prompt('Введіть кількість гривень для віднімання'))
    getSum.getSub(userSubUah)
    document.write(`<br>${getSum}`)


    let requiredCourse = getSum.findRequiredCourse();

    console.log(requiredCourse)

</script>

<body>

</body>

</html>